# Nockchain 环境配置文件模板
# Nockchain Environment Configuration Template
# 复制此文件为 .env 并修改相应配置

# ===========================================
# 🔑 挖矿配置 / Mining Configuration
# ===========================================

# 挖矿公钥 - 使用 nockchain-wallet keygen 生成
# Mining Public Key - Generate with: nockchain-wallet keygen
MINING_PUBKEY=2pk5QGVD9WBcUDC4nX4RRXj28TYD3y5HScJfhFziD3SWjFf4r1eG8xSM2mxFU8mWAsLrrreZ1FrfmrsGAA6c5VKMV4C3XFJy3wUvGPBJ4B9rzLnsbCrJL8ZvqPLcpFV4ZgHT

# ===========================================
# 📊 日志配置 / Logging Configuration  
# ===========================================

# Rust日志级别 (error, warn, info, debug, trace)
# Rust log level
RUST_LOG=info,nockchain=debug

# 主节点日志级别
# Main node log level
RUST_LOG_MAIN=info,nockchain=debug,nockchain_libp2p_io=info

# 挖矿节点日志级别  
# Miner node log level
RUST_LOG_MINER=info,nockchain=info

# 显示错误堆栈跟踪
# Show error stack traces
RUST_BACKTRACE=1

# 简化日志格式
# Minimal log format
MINIMAL_LOG_FORMAT=true

# ===========================================
# 🏗️ PM2集群配置 / PM2 Cluster Configuration
# ===========================================

# 挖矿节点数量 (1-10)
# Number of miner nodes
MINER_COUNT=3

# 主节点内存限制 (建议64GB VPS使用8-16GB)
# Main node memory limit (recommended 8-16GB for 64GB VPS)
MAIN_NODE_MEMORY=12G

# 挖矿节点内存限制 (建议64GB VPS使用8-12GB)
# Miner node memory limit (recommended 8-12GB for 64GB VPS)
MINER_NODE_MEMORY=10G

# 启用监控节点 (true/false)
# Enable monitoring node
ENABLE_MONITOR=false

# ===========================================
# 🌐 网络配置 / Network Configuration
# ===========================================

# 主节点监听端口
# Main node listen port
MAIN_NODE_PORT=8080

# 基础挖矿端口 (每个挖矿节点会递增)
# Base mining port (each miner node will increment)
BASE_MINER_PORT=8081

# ===========================================
# 🔧 调试配置 / Debug Configuration
# ===========================================

# 显示PM2配置调试信息 (true/false)
# Show PM2 configuration debug info
DEBUG_PM2_CONFIG=false

# 详细启动信息 (true/false)
# Verbose startup information
VERBOSE_STARTUP=false

# ===========================================
# 📦 部署配置 / Deployment Configuration
# ===========================================

# 部署用户名
# Deployment username
DEPLOY_USER=ubuntu

# 部署主机
# Deployment host
DEPLOY_HOST=localhost

# 部署路径
# Deployment path
DEPLOY_PATH=/home/ubuntu/nockchain

# ===========================================
# 🔒 安全配置 / Security Configuration
# ===========================================

# 节点环境 (development/production)
# Node environment
NODE_ENV=production

# API访问令牌 (如果需要)
# API access token (if required)
# API_TOKEN=your_api_token_here

# ===========================================
# 📝 使用说明 / Usage Instructions
# ===========================================

# 服务器要求：
# - CPU: 16+ 核心 (推荐)
# - 内存: 64GB+ (推荐)
# - 存储: 500GB+ NVMe SSD
# - 网络: 1Gbps+ 带宽

# Server Requirements:
# - CPU: 16+ cores (recommended)
# - Memory: 64GB+ (recommended) 
# - Storage: 500GB+ NVMe SSD
# - Network: 1Gbps+ bandwidth

# 1. 复制此文件: cp env.template .env
# 2. 生成新钱包: nockchain-wallet keygen
# 3. 更新MINING_PUBKEY为生成的公钥
# 4. 根据服务器配置调整MINER_COUNT和内存限制
# 5. 64GB内存服务器建议配置：主节点12GB，挖矿节点每个10GB
# 6. 生产环境建议将RUST_LOG_MINER设为warn以减少日志输出
# 7. 定期备份钱包私钥到安全位置

# 1. Copy this file: cp env.template .env
# 2. Generate new wallet: nockchain-wallet keygen
# 3. Update MINING_PUBKEY with generated public key  
# 4. Adjust MINER_COUNT and memory limits based on server specs
# 5. For 64GB memory server: Main node 12GB, each miner node 10GB
# 6. For production, consider setting RUST_LOG_MINER to warn to reduce log output
# 7. Regularly backup wallet private keys to secure location 